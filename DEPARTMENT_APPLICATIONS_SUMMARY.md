# –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è - –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üéØ –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (–£–í–ü, –°–°–û, –†–û–∏–û, –í–ö, –ú–†) —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–æ–ª–µ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –Ω–∏–∫–Ω–µ–π–º–æ–≤.

## üìã –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ù–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∏–Ω–≥–æ–≤ (`utils/ping_manager.py`)
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∏–Ω–≥–æ–≤** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ `ping_settings`
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –ø–∏–Ω–≥–æ–≤**: applications, leave_requests, dismissals, warehouse, general
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π**: –£–í–ü, –°–°–û, –†–û–∏–û, –í–ö, –ú–†

### 2. –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π (`forms/department_applications/`)
- **–ú–æ–¥–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã** —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º IC –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets
- **–í—ã–±–æ—Ä —Ç–∏–ø–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è**: –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è** —Å –∫–Ω–æ–ø–∫–∞–º–∏: –û–¥–æ–±—Ä–∏—Ç—å, –û—Ç–∫–ª–æ–Ω–∏—Ç—å (—Å –ø—Ä–∏—á–∏–Ω–æ–π), –£–¥–∞–ª–∏—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π** –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∏–∫–Ω–µ–π–º–æ–≤ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ `/settings`
- **–ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª**: "–ó–∞—è–≤–ª–µ–Ω–∏—è –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è"
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π** –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–∏–Ω–≥–∏** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 4. Slash-–∫–æ–º–∞–Ω–¥—ã (`cogs/department_applications.py`)
- `/setup-department-channel` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π
- `/setup-department-role` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è  
- `/setup-department-pings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–≥–æ–≤
- `/department-status` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `/migrate-ping-settings` - –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### 5. –ê–¥–∞–ø—Ç–µ—Ä —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (`utils/ping_adapter.py`)
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** legacy ping_settings
- **–ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è**: –æ—Ç–ø—É—Å–∫–∏, —É–≤–æ–ª—å–Ω–µ–Ω–∏—è, —Å–∫–ª–∞–¥, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ config.json:
```json
{
  "departments": {
    "–£–í–ü": {
      "role_id": 123456789,
      "application_channel_id": 987654321,
      "ping_contexts": {
        "applications": [role_id1, role_id2],
        "leave_requests": [role_id3],
        "dismissals": [role_id4],
        "warehouse": [role_id5],
        "general": [role_id6]
      }
    }
  }
}
```

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `ping_settings` –æ—Å—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—á–µ–π
- –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–±—É–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞—Ç–µ–º fallback –Ω–∞ legacy
- –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è**:
   ```
   /setup-department-channel department:–£–í–ü channel:#—É–≤–ø-–∑–∞—è–≤–ª–µ–Ω–∏—è
   /setup-department-role department:–£–í–ü role:@–£–í–ü
   /setup-department-pings department:–£–í–ü roles:@–ö–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ @–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**:
   ```
   /department-status
   ```

3. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫**:
   ```
   /migrate-ping-settings
   ```

4. **–ß–µ—Ä–µ–∑ `/settings`**:
   - –ö–∞–Ω–∞–ª—ã ‚Üí –ó–∞—è–≤–ª–µ–Ω–∏—è –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
   - –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ‚Üí –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –ó–∞–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª –∑–∞—è–≤–ª–µ–Ω–∏–π –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å select menu –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É (IC –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è)
4. –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π

### –î–ª—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤:
- **–û–¥–æ–±—Ä–∏—Ç—å**: –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ä–æ–ª—å, –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∏–∫–Ω–µ–π–º, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç DM
- **–û—Ç–∫–ª–æ–Ω–∏—Ç—å**: —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç DM —Å –ø—Ä–∏—á–∏–Ω–æ–π
- **–£–¥–∞–ª–∏—Ç—å**: –¥–æ—Å—Ç—É–ø–Ω–æ –∞–¥–º–∏–Ω–∞–º –∏ –∞–≤—Ç–æ—Ä—É –∑–∞—è–≤–∫–∏

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –°–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞:
- ‚úÖ **–û—Ç–ø—É—Å–∫–∏**: `forms/leave_requests/modals.py`
- ‚úÖ **–£–≤–æ–ª—å–Ω–µ–Ω–∏—è**: `forms/dismissal/modals.py`, `forms/dismissal/automatic.py`  
- ‚úÖ **–°–∫–ª–∞–¥**: `forms/warehouse/modals.py`
- ‚úÖ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π**: —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ

### –ß—Ç–æ –ù–ï —Å–ª–æ–º–∞–µ—Ç—Å—è:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `ping_settings` –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –í—Å–µ legacy —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä
- –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Å—Ç–∞—Ä—ã–µ –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
forms/department_applications/
‚îú‚îÄ‚îÄ __init__.py              # –≠–∫—Å–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ manager.py              # –ú–µ–Ω–µ–¥–∂–µ—Ä persistent —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ modals.py               # –ú–æ–¥–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã –∑–∞—è–≤–ª–µ–Ω–∏–π  
‚îî‚îÄ‚îÄ views.py                # Views –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –≤—ã–±–æ—Ä–∞

utils/
‚îú‚îÄ‚îÄ ping_manager.py         # –ù–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∏–Ω–≥–æ–≤
‚îî‚îÄ‚îÄ ping_adapter.py         # –ê–¥–∞–ø—Ç–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

forms/settings/
‚îî‚îÄ‚îÄ channels_departments.py # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π

cogs/
‚îî‚îÄ‚îÄ department_applications.py # Slash-–∫–æ–º–∞–Ω–¥—ã —Å–∏—Å—Ç–µ–º—ã
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **Persistent Views**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –º–æ–¥–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å —Ä–æ–ª—è–º–∏ –∏–∑ `moderators` –≤ config
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –∑–∞—è–≤–∫–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –∏–ª–∏ –∞–≤—Ç–æ—Ä—ã
5. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞—è–≤–∫–∞

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `/settings` 
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é legacy –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π –∏ –Ω–∏–∫–Ω–µ–π–º–æ–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
