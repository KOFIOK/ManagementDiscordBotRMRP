# üéñÔ∏è –ü–∞–º—è—Ç–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–≤–∞–Ω–∏–π

## üöÄ –î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ 5000+ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### ‚úÖ –ß—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç –ü–†–ê–í–ò–õ–¨–ù–û:

1. **üîë –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∫–ª—é—á–µ–≤–æ–π —Ä–æ–ª–∏** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ä–æ–ª—å—é "–í–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ"
2. **üéÆ –§–∏–ª—å—Ç—Ä—É–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤** - –∏–∑ –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö –±–µ—Ä–µ—Ç —Ç–æ–ª—å–∫–æ –∏–≥—Ä–∞—é—â–∏—Ö –≤ RMRP (~10-50 –∏–∑ 500-1000)
3. **üì¶ –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ 50 —á–µ–ª–æ–≤–µ–∫ –∑–∞ —Ä–∞–∑  
4. **üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –∏–∑–±–µ–≥–∞–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
5. **‚è∞ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
6. **üö¶ Rate limiting** - —Å–æ–±–ª—é–¥–∞–µ—Ç –ª–∏–º–∏—Ç—ã Discord API

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```
üèõÔ∏è –°–µ—Ä–≤–µ—Ä: 5000 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
üéñÔ∏è –í–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ: ~500-1000 —á–µ–ª–æ–≤–µ–∫ (–∫–ª—é—á–µ–≤–∞—è —Ä–æ–ª—å)
üéÆ –ê–∫—Ç–∏–≤–Ω—ã—Ö –≤ RMRP: ~10-50 —á–µ–ª–æ–≤–µ–∫  
‚è±Ô∏è –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ~5-20 —Å–µ–∫—É–Ω–¥
üîÑ –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏: 5 –º–∏–Ω—É—Ç
üì° –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è
```

### üéØ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å**: `/settings` ‚Üí `–†–æ–ª–∏ –∑–≤–∞–Ω–∏–π` ‚Üí `üîë –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å`
2. **–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä: @–í–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ, @–í–° –†–§, @–ü—Ä–∏–∑—ã–≤–Ω–∏–∫–∏)
3. **–ë–µ–∑ –∫–ª—é—á–µ–≤–æ–π —Ä–æ–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ—Ö 5000 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤!**

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- ‚úÖ **Periodic Mode**: –í–∫–ª—é—á–µ–Ω (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- ‚ùå **Real-time Mode**: –û—Ç–∫–ª—é—á–µ–Ω (—Å–ª–∏—à–∫–æ–º –Ω–∞–≥—Ä—É–∂–∞–µ—Ç API)  
- ‚úÖ **Manual Mode**: –í–∫–ª—é—á–µ–Ω (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### ü§ñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `/rank-sync` - —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
- `/rank-stats` - –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- `/rank-status` - –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å
- `/rank-test "—Ç–µ–∫—Å—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–≤–∞–Ω–∏—è

### ‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

1. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `/rank-stats`** —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤** - –µ—Å–ª–∏ >200, –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª
3. **–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞** - —Ç–∞–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞—Ç—á–µ–π
4. **–ï—Å–ª–∏ –ª–∞–≥–∏** - –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å real-time —Ä–µ–∂–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```python
# –í —Ñ–∞–π–ª–µ utils/optimized_rank_sync.py –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
self.batch_size = 50        # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (–º–µ–Ω—å—à–µ = –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
self.check_interval = 300   # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–±–æ–ª—å—à–µ = —Ä–µ–∂–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)
self.rate_limit_delay = 0.5 # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É API –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

### üéñÔ∏è –ö–∞–∫ –ø–æ–Ω—è—Ç—å —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–í –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
```
üîÑ Starting batch sync for X active players...
‚úÖ Batch sync completed: Y players synced
üéñÔ∏è Triggered rank sync for PlayerName due to activity change
```

### üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/rank-stats` - —Ç–∞–º –ø–æ–∫–∞–∑–∞–Ω—ã –æ—à–∏–±–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–æ–ª–∏ –∑–≤–∞–Ω–∏–π –≤ `/settings` ‚Üí `–†–æ–ª–∏ –∑–≤–∞–Ω–∏–π`  
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫

### üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞:

| –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | –ë–∞—Ç—á | –ò–Ω—Ç–µ—Ä–≤–∞–ª | Real-time |
|-----------|------|----------|-----------|
| <1000     | 25   | 300—Å     | –ú–æ–∂–Ω–æ     |
| 1000-3000 | 50   | 300—Å     | –ù–µ—Ç       |
| 3000-5000 | 50   | 600—Å     | –ù–µ—Ç       |
| >5000     | 75   | 600—Å     | –ù–µ—Ç       |

---

**üí° –ì–ª–∞–≤–Ω–æ–µ:** –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä. –ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ `/rank-stats`!
